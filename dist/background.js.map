{"version":3,"file":"background.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://devjams/./public/background.js"],"sourcesContent":["let currentTask = '';\nlet productiveSites = ['github.com', 'stackoverflow.com', 'docs.google.com'];\nlet wastingSites = ['facebook.com', 'twitter.com', 'instagram.com'];\nlet siteTimers = {};\n\nchrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\n  if (changeInfo.status === 'complete') {\n    analyzeTab(tab);\n  }\n});\n\nfunction analyzeTab(tab) {\n  const url = new URL(tab.url);\n  const domain = url.hostname;\n\n  if (productiveSites.some(site => domain.includes(site))) {\n    console.log(\"Productive tab opened\");\n  } else if (wastingSites.some(site => domain.includes(site))) {\n    notifyUser(\"You might be getting distracted!\");\n  }\n}\n\nfunction notifyUser(message) {\n  chrome.notifications.create({\n    type: 'basic',\n    iconUrl: 'icon128.png',\n    title: 'Productivity Alert',\n    message: message\n  });\n}\n\nchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n  if (request.action === 'setTask') {\n    currentTask = request.task;\n    chrome.storage.local.set({ currentTask: currentTask });\n  }\n});\n\nchrome.tabs.onActivated.addListener((activeInfo) => {\n  chrome.tabs.get(activeInfo.tabId, (tab) => {\n    const url = new URL(tab.url);\n    const domain = url.hostname;\n    \n    const now = Date.now();\n    siteTimers[domain] = { startTime: now, totalTime: siteTimers[domain]?.totalTime || 0 };\n  });\n});\n\nchrome.tabs.onRemoved.addListener((tabId, removeInfo) => {\n  updateSiteTime();\n});\n\nfunction updateSiteTime() {\n  const now = Date.now();\n  Object.keys(siteTimers).forEach(domain => {\n    if (siteTimers[domain].startTime) {\n      siteTimers[domain].totalTime += now - siteTimers[domain].startTime;\n      siteTimers[domain].startTime = now;\n    }\n  });\n  chrome.storage.local.set({ siteTimers: siteTimers });\n}\n\nchrome.alarms.create('updateSiteTime', { periodInMinutes: 1 });\nchrome.alarms.onAlarm.addListener((alarm) => {\n  if (alarm.name === 'updateSiteTime') {\n    updateSiteTime();\n  }\n});"],"names":[],"sourceRoot":""}